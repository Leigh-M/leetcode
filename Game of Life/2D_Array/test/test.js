/* eslint-env mocha */
/* eslint-disable prefer-arrow-callback, func-names */

const { expect } = require('chai');
const theLift = require('../The Lift');

describe('theLift() should return an array of floor visits in the correct sequence', function () {
  const tests = [
    { queues: [[], [], [5, 5, 5], [], [], [], []], capacity: 5, expected: [0, 2, 5, 0] },

    { queues: [[], [], [1, 1], [], [], [], []], capacity: 5, expected: [0, 2, 1, 0] },

    { queues: [[], [3], [4], [], [5], [], []], capacity: 5, expected: [0, 1, 2, 3, 4, 5, 0] },

    { queues: [[], [0], [], [], [2], [3], []], capacity: 5, expected: [0, 5, 4, 3, 2, 1, 0] },

    {
      queues: [[3], [2], [0], [2], [], [], [5]],
      capacity: 5,
      expected: [0, 1, 2, 3, 6, 5, 3, 2,
        0],
    },

    {
      queues: [[], [], [4, 4, 4, 4], [], [2, 2, 2, 2], [], []],
      capacity: 2,
      expected: [0, 2,
        4, 2, 4, 2, 0],
    },

    {
      queues: [[], [3], [4], [], [5], [], []], capacity: 5, expected: [0, 1, 2, 3, 4, 5, 0],
    },

    { queues: [[1, 2, 3, 4], [], [], [], [], [], []], capacity: 5, expected: [0, 1, 2, 3, 4, 0] },

    {
      queues: [[3, 3, 3, 3, 3, 3], [], [], [], [], [], []],
      capacity: 5,
      expected: [0, 3, 0, 3, 0],
    },

    {
      queues: [[], [], [], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [], [], []],
      capacity: 5,
      expected: [0, 3, 1, 3, 1, 3, 1, 0],
    },

    { queues: [[3, 3, 3, 3, 3, 3], [], [], [], [], [4, 4, 4, 4, 4, 4], []], capacity: 5, expected: [0, 3, 5, 4, 0, 3, 5, 4, 0] },

    { queues: [[], [0, 0, 0, 6], [], [], [], [6, 6, 0, 0, 0, 6], []], capacity: 5, expected: [0, 1, 5, 6, 5, 1, 0, 1, 0] },

    { queues: [[], [2], [3, 3, 3], [1], [], [], []], capacity: 1, expected: [0, 1, 2, 3, 1, 2, 3, 2, 3, 0] },

    {
      queues: [[],
        [0, 0, 0, 0],
        [0, 0, 0, 0],
        [0, 0, 0, 0],
        [0, 0, 0, 0],
        [0, 0, 0, 0],
        [0, 0, 0, 0]],
      capacity: 5,
      expected: [0, 6, 5, 4, 3, 2, 1, 0, 5, 4, 3, 2, 1, 0, 4, 3, 2, 1, 0, 3, 2, 1, 0, 1, 0],
    },

    {
      queues: [
        [14],
        [18],
        [9],
        [8],
        [],
        [8],
        [],
        [],
        [0],
        [],
        [1],
        [],
        [],
        [14],
        [2, 3, 2],
        [16, 12],
        [],
        [1, 16],
        [9, 0, 2, 1],
      ],
      capacity: 2,
      expected: [0, 1, 2, 3, 5, 13, 14, 15, 16, 18, 17, 15, 14, 10, 9, 8, 0, 2, 3, 5, 8, 9, 13,
        14, 18, 17, 15, 14, 10, 2, 1, 5, 8, 17, 16, 15, 14, 12, 10, 1, 14, 3, 2, 14, 2, 0],
    },

    {
      queues: [
        [4, 3, 1, 2], [2, 0], [4, 4, 1, 3], [2, 1, 0], [],
      ],
      capacity: 3,
      expected: [0, 1, 2, 3, 4, 3, 2, 1, 0, 2, 3, 4, 0],
    },

    {
      queues: [[],
        [8, 10],
        [0],
        [4, 5],
        [1],
        [],
        [],
        [10, 2],
        [0, 3, 11, 5],
        [],
        [0],
        [7, 7],
        [1, 9, 5],
        []],
      capacity: 5,
      expected: [0, 1, 3, 4, 5, 7, 8, 10, 11, 12, 11, 10, 9, 8, 7, 5, 4, 2, 1, 0, 10, 8, 5, 3, 0],
    },

    { queues: [[], [], [], [], [], [], []], capacity: 5, expected: [0] },

    {
      queues: [[2],
        [2],
        [1, 4, 6],
        [0],
        [],
        [2, 9, 2, 6],
        [0, 2, 8],
        [1],
        [],
        [6, 8]],
      capacity: 3,
      expected: [0, 1, 2, 4, 5, 6, 8, 9, 8, 7, 6, 5, 3, 2, 1, 0, 5, 3, 2, 0],
    },

    {
      queues: [[6, 3, 5],
        [],
        [4, 5, 3, 0],
        [0, 2, 1, 2],
        [1, 3, 3],
        [0],
        [5, 3, 5, 1]],
      capacity: 3,
      expected: [0, 2, 3, 5, 6, 5, 4, 3, 2, 1, 0, 2, 3, 4, 5, 6, 4, 3, 2, 1, 0, 3, 2, 0],
    },

    {
      queues: [[6],
        [],
        [3, 6, 5],
        [2],
        [7, 5, 2, 7],
        [0, 6, 3, 2],
        [0, 4],
        [6, 0]],
      capacity: 5,
      expected: [0, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 0, 4, 7, 5, 2, 0],
    },

    {
      queues: [[5, 7, 6],
        [4],
        [6, 3],
        [1, 9],
        [0, 3, 7, 0],
        [],
        [9, 4, 4],
        [8, 8],
        [0, 9, 7, 7],
        [8]],
      capacity: 4,
      expected: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 8, 7, 6, 4, 3, 1, 0, 2, 3, 6, 9, 0],
    },

    {
      queues: [[8, 7, 6],
        [4],
        [0, 9, 6, 4],
        [8],
        [11],
        [9, 6],
        [],
        [2, 11],
        [],
        [2, 4],
        [9, 11],
        [4]],
      capacity: 4,
      expected: [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 10, 9, 7, 4, 2, 0, 2, 3, 4, 5, 6, 8, 9, 5, 6,
        0],
    },

    {
      queues: [[8, 13],
        [13, 2, 10, 8],
        [3, 1, 4],
        [7, 14, 9, 5],
        [9, 11],
        [16, 14, 3],
        [15, 5],
        [13],
        [0, 14, 2],
        [11, 13],
        [1, 11, 13],
        [10, 1, 4],
        [2],
        [],
        [4, 1],
        [],
        []],
      capacity: 1,
      expected: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 14, 12, 11, 10, 8, 6, 5, 4, 2, 1, 0, 1, 2, 3,
        4, 5, 6, 7, 9, 10, 13, 14, 12, 11, 10, 8, 6, 5, 1, 2, 3, 4, 5, 6, 7, 9, 10, 13, 12, 11,
        10, 8, 6, 5, 2, 1, 2, 3, 4, 5, 6, 7, 9, 10, 13, 11, 10, 8, 6, 5, 1, 2, 3, 4, 5, 6, 9, 10,
        11, 8, 6, 5, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 8, 6, 5, 4, 2, 3, 4, 5, 6, 9, 10, 13, 8, 6,
        5, 0, 3, 4, 5, 6, 10, 14, 8, 6, 5, 2, 3, 4, 5, 6, 9, 10, 13, 6, 5, 3, 4, 5, 6, 16, 4, 5,
        6, 11, 5, 6, 14, 6, 15, 0],
    },

    {
      queues: [[6, 2, 6], [4, 2, 2], [], [2], [2], [6, 6, 6], [3, 4]],
      capacity: 3,
      expected: [0, 1, 2, 5, 6, 4, 3, 2, 1, 2, 4, 5, 6, 0],
    },

    {
      queues: [[5, 6, 13, 13],
        [3, 12, 7],
        [0, 11],
        [],
        [2, 7],
        [0, 0, 6],
        [12, 0, 13],
        [],
        [7, 4, 12, 0],
        [5],
        [1, 1, 13],
        [7, 0, 13],
        [8],
        [3, 12, 11]],
      capacity: 5,
      expected: [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1,
        0, 1, 2, 7, 10, 11, 12, 13, 10, 9, 8, 5, 4, 2, 1, 0],
    },

    {
      queues: [[], [4, 3, 4, 3], [4], [], [2, 1, 1, 2]],
      capacity: 5,
      expected: [0, 1, 2, 3, 4, 2, 1, 0],
    },

    {
      queues: [[],
        [0],
        [3, 3, 3],
        [1],
        [6, 3],
        [2, 2, 2],
        [4, 2, 0, 0]],
      capacity: 1,
      expected: [0, 2, 3, 4, 6, 5, 4, 3, 1, 0, 2, 3, 6, 5, 2, 3, 6, 5, 0, 6, 5, 0, 5, 2, 5, 2, 5,
        2, 0],
    },

    {
      queues: [[],
        [],
        [],
        [],
        [5, 12],
        [3, 13, 10, 8],
        [13],
        [13, 6, 6, 10],
        [6, 9],
        [1, 8, 13],
        [0, 2, 5, 1],
        [2, 14, 5],
        [13, 14, 14],
        [11, 1, 6],
        [],
        [11, 14, 4, 9]],
      capacity: 1,
      expected: [0, 4, 5, 6, 7, 8, 9, 11, 12, 13, 15, 13, 11, 10, 9, 8, 7, 5, 2, 4, 5, 6, 7, 8, 9,
        11, 12, 13, 15, 14, 13, 11, 10, 9, 8, 7, 5, 3, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15, 13, 10,
        9, 8, 7, 4, 5, 6, 7, 8, 9, 12, 13, 15, 13, 10, 9, 8, 7, 1, 6, 7, 12, 13, 10, 9, 8, 7, 1,
        7, 12, 13, 10, 9, 8, 7, 6, 7, 10, 12, 14, 10, 9, 8, 7, 0, 12, 14, 10, 9, 8, 7, 2, 10, 9,
        8, 7, 5, 10, 9, 8, 7, 1, 9, 8, 7, 6, 7, 6, 7, 6, 0],
    },

    {
      queues: [[5], [], [4, 3], [9, 6, 6], [], [3], [], [], [4], []],
      capacity: 1,
      expected: [0, 2, 3, 5, 8, 5, 4, 2, 3, 4, 5, 3, 2, 3, 9, 3, 6, 3, 6, 0],
    },

    {
      queues: [[4, 5],
        [6, 3, 6, 2],
        [],
        [5, 1, 1, 6],
        [0, 5, 3, 6],
        [1, 6],
        [5, 0, 2, 2]],
      capacity: 4,
      expected: [0, 1, 3, 4, 5, 6, 5, 4, 3, 2, 1, 0, 1, 2, 3, 4, 6, 4, 3, 1, 0],
    },

    {
      queues: [[4, 8],
        [16, 3],
        [17],
        [9, 13],
        [6],
        [],
        [7, 10, 3, 8],
        [6, 1, 3, 13],
        [7, 16, 3],
        [3],
        [18, 2, 19, 18],
        [1, 14, 0, 10],
        [],
        [],
        [10, 12, 10],
        [18],
        [5, 11, 17, 4],
        [],
        [17],
        [14]],
      capacity: 1,
      expected: [0, 1, 2, 3, 4, 6, 7, 8, 10, 11, 13, 15, 16, 18, 19, 18, 16, 14, 11, 10, 9, 8, 7,
        6, 2, 0, 1, 2, 3, 6, 8, 10, 11, 16, 17, 18, 17, 16, 14, 11, 9, 8, 7, 6, 5, 1, 2, 3, 6, 10,
        11, 16, 14, 11, 9, 8, 7, 6, 1, 2, 3, 6, 9, 10, 11, 18, 16, 14, 11, 9, 8, 7, 6, 4, 2, 3, 6,
        10, 11, 17, 14, 12, 11, 9, 8, 7, 6, 0, 3, 6, 10, 11, 13, 14, 11, 10, 9, 8, 7, 6, 3, 6, 10,
        11, 19, 11, 10, 8, 7, 6, 3, 6, 8, 10, 11, 18, 8, 7, 3, 11, 14, 7, 1, 7, 3, 0],
    },

    {
      queues: [[1, 5, 7],
        [0, 4, 6, 8],
        [8, 7, 3],
        [5, 0, 5, 6],
        [3],
        [],
        [0, 7, 7, 0],
        [6, 5, 5],
        [1, 7, 7]],
      capacity: 1,
      expected: [0, 1, 2, 3, 4, 6, 7, 8, 7, 6, 4, 3, 1, 0, 1, 2, 3, 5, 6, 7, 8, 7, 6, 4, 3, 0, 1,
        2, 3, 7, 8, 7, 6, 5, 4, 3, 0, 1, 2, 3, 6, 7, 6, 5, 1, 2, 3, 8, 6, 0, 2, 3, 8, 2, 3, 7, 2,
        3, 5, 3, 5, 3, 6, 0],
    },

    {
      queues: [[6, 5, 6, 4],
        [],
        [6, 5, 3, 3],
        [0, 4],
        [0, 5],
        [],
        [1, 5, 1]],
      capacity: 2,
      expected: [0, 2, 3, 4, 5, 6, 5, 4, 3, 1, 0, 2, 3, 4, 5, 6, 3, 1, 0, 2, 3, 5, 6, 2, 3, 4, 0],
    },

    {
      queues: [[3, 1, 1, 1], [3, 2, 3], [], [0, 1, 1]],
      capacity: 3,
      expected: [0, 1, 2, 3, 1, 0, 1, 3, 0],
    },

    {
      queues: [[14],
        [10],
        [8, 0],
        [16, 16, 5],
        [6],
        [1, 9, 1, 12],
        [],
        [16, 19],
        [],
        [],
        [11, 5, 3, 19],
        [],
        [13, 5],
        [6],
        [4, 7],
        [4],
        [],
        [],
        [10],
        [4, 9, 13, 9]],
      capacity: 1,
      expected: [0, 1, 2, 3, 4, 5, 7, 10, 12, 14, 19, 18, 15, 14, 13, 12, 10, 5, 4, 2, 0, 1, 2, 3,
        4, 5, 7, 10, 11, 12, 13, 19, 18, 15, 14, 13, 12, 10, 9, 5, 1, 2, 3, 4, 5, 7, 8, 10, 19,
        18, 15, 14, 13, 12, 10, 6, 5, 1, 3, 4, 5, 7, 16, 19, 18, 15, 14, 12, 10, 9, 3, 4, 5, 7,
        16, 18, 15, 14, 12, 10, 5, 3, 4, 5, 7, 9, 15, 14, 12, 10, 4, 5, 6, 7, 16, 14, 12, 10, 4,
        5, 7, 12, 14, 12, 10, 7, 19, 12, 10, 5, 10, 3, 0],
    },

    {
      queues: [[4], [2, 4, 3], [4, 4, 1], [2, 0, 0], [2, 3, 0]],
      capacity: 2,
      expected: [0, 1, 2, 4, 3, 2, 1, 2, 3, 4, 3, 0, 2, 4, 3, 0],
    },
  ];
  tests.forEach(function (test) {
    it(`Checks ${test.queues}: capacity ${test.capacity} is ${test.expected}`, function () {
      const res = theLift(test.queues, test.capacity);
      expect(res).to.eql(test.expected);
    });
  });
});
